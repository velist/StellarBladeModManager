# 弹窗显示问题修复总结

## 问题描述

在切换游戏时的确认弹窗中，弹窗内容显示不全，部分文本和按钮被截断。

## 原因分析

经过检查代码，发现问题出在 `ShowCustomMessageBox` 方法中：

1. 使用了 `WindowStyle.None` 自定义无边框窗口样式
2. 同时使用了自定义标题栏和内容布局
3. 这种组合导致在某些情况下（特别是文本较长时）弹窗无法正确显示全部内容

## 解决方案

1. 将 `ShowCustomMessageBox` 方法中的窗口样式从 `WindowStyle.None` 改为 `WindowStyle.SingleBorderWindow`
2. 移除自定义标题栏，使用系统标准标题栏
3. 调整Grid布局和元素位置，确保内容正确显示
4. 修改了行索引，保证内容和按钮正确定位在Grid中

## 具体修改

1. 将`WindowStyle`从`None`改为`SingleBorderWindow`
2. 移除了自定义标题栏相关的所有控件和事件处理
3. 调整了Grid的行定义，从三行(标题、内容、按钮)改为两行(内容、按钮)
4. 修改了内容区域和按钮区域的Grid.Row索引

## 测试验证

创建了测试脚本`测试验证_弹窗显示修复.ps1`，验证了以下内容：

1. 切换游戏时的确认弹窗能完整显示所有文本内容
2. 确认弹窗的按钮功能正常
3. 弹窗标题和内容显示清晰

## 修复结果

通过以上修改，确认弹窗现在可以完整显示所有内容，用户可以看到完整的确认信息并正常操作按钮。
